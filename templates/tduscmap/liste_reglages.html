{% extends 'base.html' %}
{% block content %}

{% load static %}
<link rel="stylesheet" href="{% static 'stylesmymaps.css' %}" type="text/css">
<div class="container text-center px-5">
    <!-- Début du conteneur avec fond blanc -->
      <div class="white-background">
       
        <div class="row justify-content-center py-4">
          <a
            class="col-3 btn btn-outline-secondary me-3"
             href="{% url 'choix_modele' %}" 
          >Creer un réglage</a>
          <a
            class="col-3 btn btn-outline-secondary ms-3"
            href="{% url 'mes_reglages' %}" 
          >Modifier mes réglages</a
            >
        </div>
    </div>

<h6>Liste de tout les réglages , ou faites un tri par :</h6>

<form method="get" data-url="{% url 'liste_reglages' %}" id="reglages-form">
    <label for="marque">Marque:</label>
    <select  class="my-select" name="marque" id="marque">
        <option value="">Toutes les marques</option>
        {% for marque in marques %}
            <option value="{{ marque }}">{{ marque }}</option>
        {% endfor %}
    </select>

    <label for="modele">Modèle:</label>
    <select class="my-select" name="modele" id="modele">
        <option value="">Tous les modèles</option>
        {% for modele in modeles %}
            <option value="{{ modele }}">{{ modele }}</option>
        {% endfor %}
    </select>

    <form method="get">
        <label for="limit">Éléments par page:</label>
        <select class="my-select" name="limit" id="limit">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="15">15</option>
            <option value="25">25</option>
            <option value="30">30</option>
        </select>
        <button class="col-1 btn btn-secondary ms-1" type="submit">Appliquer</button>
    </form>

<h6>Liste des réglages</h6>




    {% for reglage in reglages %}
    <div class="reglage">
        <p class="titre-reglage">Réglage pour {{ reglage.car }}  Posté par : <span style="color: red;">{{ reglage.user }}</span></p>
        
        
        <p class="titre-reglage">Description : {{ reglage.description }}</p>
        <div class="like-container">
        <a class="col-2 btn btn-secondary ms-1" href="{% url 'detail_reglage' reglage.id %}">+ de détails</a>
        
            <img src="{% static 'images/like.png' %}" alt="icône de like" >
            <span> Nb :{{ reglage.like_count }}</span>
            
          </div> 
        </div>
    {% endfor %}
       
{% if paginator.num_pages > 1 %}
<div class="container">
    <div class="pagination centered">
        <span class="step-links">
            {% if reglages.has_previous %}
                <a class="col-6 btn btn-secondary" href="?page={{ reglages.previous_page_number }}">Précédent</a>
            {% endif %}
            <span class="current">
                Page {{ reglages.number }} / {{ paginator.num_pages }}
            </span>
            {% if reglages.has_next %}
                <a class="col-6 btn btn-secondary "href="?page={{ reglages.next_page_number }}">Suivant</a>
            {% endif %}
        </span>
    </div>
</div>
{% endif %}

{% endblock %}
